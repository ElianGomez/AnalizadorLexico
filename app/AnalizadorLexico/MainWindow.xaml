<Window x:Class="AnalizadorLexico.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Analizador Léxico (FLEX)" Width="1200" Height="720"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="Segoe UI">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="56"/>
            <!-- Top bar -->
            <RowDefinition/>
            <!-- Content -->
            <RowDefinition Height="Auto"/>
            <!-- Snackbar -->
        </Grid.RowDefinitions>

        <!-- Top App Bar -->
        <DockPanel Grid.Row="0" Background="{DynamicResource PrimaryHueMidBrush}">
            <TextBlock Text="Analizador Léxico" Foreground="Black" FontSize="16"
                 VerticalAlignment="Center" Margin="12,0" />
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" Margin="8,0">
                <Button Content="Abrir"
                Click="Abrir_Click"
                Margin="0,0,8,0"/>
                
                <Button Content="Analizar"
                Click="Analizar_Click"/>
            </StackPanel>
        </DockPanel>

        <!-- Contenido -->
        <Grid Grid.Row="1" Margin="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Editor -->
            <materialDesign:Card Padding="12">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Código fuente" FontWeight="SemiBold" Margin="0,0,0,6"/>
                    <TextBox x:Name="TxtSource"
                   Grid.Row="1"
                   AcceptsReturn="True"
                   VerticalScrollBarVisibility="Auto"
                   FontFamily="Consolas" FontSize="14"
                   materialDesign:HintAssist.Hint="Pega tu código aquí"/>

                    <!-- Barra de progreso cuando analiza -->
                    <ProgressBar x:Name="Prog"
                       Grid.Row="2"
                       IsIndeterminate="True"
                       Visibility="Collapsed"
                       Margin="0,8,0,0"/>
                </Grid>
            </materialDesign:Card>

            <Separator Grid.Column="1" Margin="8,0"/>

            <!-- Tokens -->
            <materialDesign:Card Grid.Column="2" Padding="12">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Tokens" FontWeight="SemiBold" Margin="0,0,0,6"/>

                    <DataGrid x:Name="GridTokens"
                    Grid.Row="1"
                    AutoGenerateColumns="False"
                    IsReadOnly="True"
                    CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Tipo" Binding="{Binding Tipo}" Width="*"/>
                            <DataGridTextColumn Header="Lexema" Binding="{Binding Lexema}" Width="2*"/>
                            <DataGridTextColumn Header="Línea" Binding="{Binding Linea}" Width="Auto"/>
                            <DataGridTextColumn Header="Columna" Binding="{Binding Columna}" Width="Auto"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    
                </Grid>
            </materialDesign:Card>
        </Grid>

        <!-- Snackbar -->
        <materialDesign:Snackbar x:Name="Snack" Grid.Row="2" Margin="12"/>
    </Grid>
</Window>
